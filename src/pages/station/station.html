<!--
  Generated template for the StationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton="true">
    <ion-buttons left>
      <button ion-button="bar-button" class="custom-back" icon-only (click)="home()"><ion-icon name="arrow-back" class="back-button-icon"></ion-icon></button>
    </ion-buttons>
    <ion-title>{{stationName}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-refresher (ionRefresh)="reloadTrains($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <div *ngIf="emptyResponse" class="feedbox">
    <h3>No Arrivals <ion-icon name="code"></ion-icon></h3>
    <p>
      It could be outside of operating hours, or it could be
      <a target="_blank" href="https://groups.google.com/forum/#!forum/atl-transit-developers">broken</a>.
      If this persists, you could try
      <a target="_blank" href="https://github.com/jakswa/martaionic/issues">bugging Jake here</a>.
    </p>
  </div>
  <ion-list class="bottom-padding station-list">
    <ion-item (click)="trainView(arrival.train_id)" class="arrival" [ngClass]="timeboxClass(arrival)" *ngFor="let arrival of arrivals">
      <ion-avatar item-start>
        <span class="capstone">{{arrival.direction}}</span>
      </ion-avatar>
      <div *ngIf="!arrival.scheduled">
        <h2 class="desc">{{arrival.destination}}</h2>
        <p>Train ID: {{arrival.train_id}}</p>
      </div>
      <div *ngIf="arrival.scheduled">
        <h2>Scheduled Train</h2>
        <p>No realtime data.</p>
      </div>
      <div class="times" item-end>
        {{ arrival.waiting_time }}
      </div>
      <!--<span class="capstone">{{arrival.direction}}</span>
      <span class="desc" *ngIf="!arrival.scheduled">
          <h2>{{arrival.destination}}</h2>
          <p>Train ID: {{arrival.train_id}}</p>
        </span>
        <span class="desc" *ngIf="arrival.scheduled">
          <h2>Scheduled Train</h2>
          <p>No realtime data.</p>
        </span>
        -->
    </ion-item>
  </ion-list>

  <!--

      <ul class="list station-list">
      <li  ng-class="arrivalClass(arrival)" ng-click="trainView(arrival.train_id)" class="item arrival" ng-repeat="arrival in arrivals">
        <span class="capstone">{{arrival.direction}}</span>
        <span class="desc" ng-hide="arrival.scheduled">
          <h2>{{arrival.destination}}</h2>
          <p>Train ID: {{arrival.train_id}}</p>
        </span>
        <span class="desc" ng-show="arrival.scheduled">
          <h2>Scheduled Train</h2>
          <p>No realtime data.</p>
        </span>
        <div class="time-left">
          {{arrival.waiting_time}}
        </div>
      </li>
</ul>
-->
</ion-content>
<tabs></tabs>